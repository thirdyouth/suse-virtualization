

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>第二章：KVM 的限制 &mdash; openSUSE 虚拟化 0.9 文档</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="author" title="关于这些文档"
              href="about.html"/>
    <link rel="top" title="openSUSE 虚拟化 0.9 文档" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html" class="icon icon-home"> openSUSE 虚拟化
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul>
<li class="toctree-l1"><a class="reference internal" href="about.html">关于手册</a><ul>
<li class="toctree-l2"><a class="reference internal" href="about.html#id2">可用文档</a></li>
<li class="toctree-l2"><a class="reference internal" href="about.html#id3">问题反馈</a></li>
<li class="toctree-l2"><a class="reference internal" href="about.html#id4">文档规范</a></li>
<li class="toctree-l2"><a class="reference internal" href="about.html#id5">手册生成</a></li>
<li class="toctree-l2"><a class="reference internal" href="about.html#id6">源码</a></li>
<li class="toctree-l2"><a class="reference internal" href="about.html#id7">致谢</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="part1.html">第一部分：要求和限制</a><ul>
<li class="toctree-l2"><a class="reference internal" href="part1.html#kvm">第二章：KVM 的限制</a><ul>
<li class="toctree-l3"><a class="reference internal" href="part1.html#id2">常规限制</a></li>
<li class="toctree-l3"><a class="reference internal" href="part1.html#id3">硬件限制</a></li>
<li class="toctree-l3"><a class="reference internal" href="part1.html#id4">性能限制</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="part2.html">第二部分：基于 libvirt 的虚拟机管理</a><ul>
<li class="toctree-l2"><a class="reference internal" href="part2.html#id1">第三章：概览</a></li>
<li class="toctree-l2"><a class="reference internal" href="part2.html#id2">第四章：客户机安装</a></li>
<li class="toctree-l2"><a class="reference internal" href="part2.html#id3">第五章：虚拟客户机管理基础</a></li>
<li class="toctree-l2"><a class="reference internal" href="part2.html#id4">第六章：连接和认证</a></li>
<li class="toctree-l2"><a class="reference internal" href="part2.html#id5">第七章：存储管理</a></li>
<li class="toctree-l2"><a class="reference internal" href="part2.html#id6">第八章：虚拟机配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="part2.html#id7">第十章：虚拟客户机管理</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="part3.html">第三部分：基于 QEMU 的虚拟机管理</a><ul>
<li class="toctree-l2"><a class="reference internal" href="part3.html#id1">第十章：QEMU 概览</a></li>
<li class="toctree-l2"><a class="reference internal" href="part3.html#id2">第十一章：客户机安装</a></li>
<li class="toctree-l2"><a class="reference internal" href="part3.html#qemu-kvm">第十二章：使用 qemu-kvm 运行虚拟机</a></li>
<li class="toctree-l2"><a class="reference internal" href="part3.html#id3">第十三章：基于 QEMU 监视器管理虚拟机</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="appendix_a.html">附录 A：附录</a><ul>
<li class="toctree-l2"><a class="reference internal" href="appendix_a.html#a-1">A.1 安装超虚拟化驱动</a><ul>
<li class="toctree-l3"><a class="reference internal" href="appendix_a.html#a-1-1-microsoft-windows-virtio">A.1.1 为 Microsoft Windows 安装 virtio 驱动</a><ul>
<li class="toctree-l4"><a class="reference internal" href="appendix_a.html#a-1-1-1-windows-7">A.1.1.1 Windows 7</a></li>
<li class="toctree-l4"><a class="reference internal" href="appendix_a.html#a-1-1-2-windows-xp-server-2003-2008-vista">A.1.1.2 其他 Windows 版本（XP, Server 2003/2008, Vista）</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="appendix_a.html#a-2-x509">A.2 生成 x509 客户端/服务端凭证</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="appendix_b.html">附录 B：GNU 授权协议</a><ul>
<li class="toctree-l2"><a class="reference internal" href="appendix_b.html#gnu">GNU 通用公共许可协议</a><ul>
<li class="toctree-l3"><a class="reference internal" href="appendix_b.html#id1">引言</a></li>
<li class="toctree-l3"><a class="reference internal" href="appendix_b.html#id2">关于复制、分发和修改的术语和条件</a></li>
<li class="toctree-l3"><a class="reference internal" href="appendix_b.html#id3">不提供品质担保</a></li>
<li class="toctree-l3"><a class="reference internal" href="appendix_b.html#id4">如何将上述条款应用到你的新程序</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="appendix_b.html#id5">GNU 自由文档协议</a><ul>
<li class="toctree-l3"><a class="reference internal" href="appendix_b.html#id6">大量复制</a></li>
<li class="toctree-l3"><a class="reference internal" href="appendix_b.html#id7">修改</a></li>
<li class="toctree-l3"><a class="reference internal" href="appendix_b.html#id8">合并文档</a></li>
<li class="toctree-l3"><a class="reference internal" href="appendix_b.html#id9">文档合集</a></li>
<li class="toctree-l3"><a class="reference internal" href="appendix_b.html#id10">独立著作聚集</a></li>
<li class="toctree-l3"><a class="reference internal" href="appendix_b.html#id11">翻译</a></li>
<li class="toctree-l3"><a class="reference internal" href="appendix_b.html#id12">终止协议</a></li>
<li class="toctree-l3"><a class="reference internal" href="appendix_b.html#id13">协议将来的修订</a></li>
<li class="toctree-l3"><a class="reference internal" href="appendix_b.html#id14">如何为你的文档使用本协议</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">openSUSE 虚拟化</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>第二章：KVM 的限制</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/chapter2.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="kvm">
<h1>第二章：KVM 的限制<a class="headerlink" href="#kvm" title="永久链接至标题">¶</a></h1>
<p>尽管虚拟机和物理机器表现非常相似，但仍然存在诸多限制。它们同时对 VM 客户机和 VM 主机产生影响。</p>
<div class="section" id="id1">
<h2>常规限制<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h2>
<p>在使用 KVM 时，存在下面常规的条件限制：</p>
<ul>
<li><p class="first"><strong>超载</strong></p>
<p>KVM 同时允许内存和硬盘空间超载。对这种问题产生的影响，将有用户来进行处理。然而，由可用资源的超负荷使用产生的严重错误将会导致客户机失败出错。尽管 CPU 的超载也是支持的，但是将会带来性能问题。</p>
</li>
<li><p class="first"><strong>时间同步</strong></p>
<p>多数客户机对准确的时间同步需要一些额外的支持。尽管有可用的 kvm-clock 能够使用。仍然推荐使用 NTP 或者类似的基于网络的时间同步协议（对于 VM 主机服务器和 VM 客户机）来保持稳定的时间。在使用 kvm-clock 时，不推荐在客户机中使用 NTP 。更多信息可以参考 <a href="#id4"><span class="problematic" id="id5">`时钟设置`_</span></a> 。</p>
</li>
<li><p class="first"><strong>MAC 地址</strong></p>
<p>如果没有为 NIC 指定 MAC 地址，将会使用默认的 MAC 地址。在多于一个 NIC 接收同一个 MAC 地址时可能会产生网络问题。推荐总是为每一个 NIC 赋予一个唯一的 MAC 地址。</p>
</li>
<li><p class="first"><strong>在线迁移</strong></p>
<p>在线迁移只有在具有同样 CPU 功能的 VM 主机服务器之间才可以进行。而且唯一支持迁移的 CPU 模块是没有其他附加功能特性的 -cpu qemu64 （默认）。不可以将主机中的物理设备移交给客户机。客户机的存储必须同时可以被 VM 主机和客户机访问，并且必须兼容。VM 主机和 VM 客户机需要有时间同步机制。AHCI 接口使用，virtfs 功能，以及 -mem-path 命令行参数和迁移不兼容。从 SP3 向 SP2 和 SP1 托管的客户机的迁移是不被支持的。</p>
</li>
<li><p class="first"><strong>用户权限</strong></p>
<p>管理工具需要使用 libvirt 进行认证，详情参考 <a href="#id6"><span class="problematic" id="id7">`第六章：连接和认证`_</span></a> 。如果希望在命令行中调用 qemu-kvm ，用户必须加入 kvm 用户组。</p>
</li>
<li><p class="first"><strong>VM 主机挂起和休眠</strong></p>
<p>在客户机运行时，不支持 VM 主机系统的挂起和休眠。</p>
</li>
</ul>
</div>
<div class="section" id="id2">
<h2>硬件限制<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h2>
<p>对客户机而言，经过测试，存在下面的虚拟硬件限制。我们确定主机和客户机都正常安装和工作，即便已经达到了这些限制条件，并且并不存在重大的性能问题（CPU，内存， 硬盘和网络）。</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&nbsp;</th>
<th class="head">&nbsp;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>最大客户机内存</td>
<td>512GB</td>
</tr>
<tr class="row-odd"><td>最大单客户机虚拟CPU数量</td>
<td>64</td>
</tr>
<tr class="row-even"><td>最大单客户机网络设备数</td>
<td>8</td>
</tr>
<tr class="row-odd"><td>最大单客户机块设备</td>
<td>4个模拟IDE，20个para-virtual（使用 virtio-blk），或者100 （virtio-scsi）</td>
</tr>
<tr class="row-even"><td>最大单主机托管虚拟机数量</td>
<td>所有客户机的虚拟 CPU 数量不得超过主机所具有核心数的 8 倍</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id3">
<h2>性能限制<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h2>
</div>
</div>


          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; 版权所有 2015, SUSE LLC 及贡献者.
      最后更新于 Jun 03, 2017.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.9',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/translations.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>